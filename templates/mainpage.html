<!DOCTYPE html>
<html>

<head>
  <title>Welcome</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
  <link href="../static/style_mainpage.css" rel="stylesheet" type="text/css">

</head>

<body>


  <nav class="navbar navbar-expand-sm bg-dark navbar-dark fixed-top">
    <div class="container">
      <span class="navbar-brand mb-0 h1" id="Page_title"><a style="text-decoration:none; color:rgb(210, 220, 255)"
          href="/">Sqlite
          explorer</a></span>
      <p class="navbar-text">Beta</p>

    </div>
  </nav>


  <div class="container" id="first_block">
    <div class="row">
      <div class="col-sm">
        <div class="card">
          <div class="card-header">
            Parameters
          </div>
          <div class="card-body">
            <div class="row align-items-center">
              <label class="form-label">Location for CSV saving:</label>

              <div class="mb-3">
                <input class="form-control form-control-sm" placeholder="{{ currentWD }}">
              </div>

              <div>
                <label class="form-label">Path to sqlite DB:</label>

                <div class="mb-3">
                  <input class="form-control form-control-sm" placeholder="{{ pathToDB }}">
                </div>
              </div>


              <div>
                <label class="form-label">Name of database:</label>

                <div class="mb-3">
                  <input class="form-control">
                </div>
              </div>

            </div>
          </div>
        </div>

      </div>
      <div class="col-sm">

        <div class="card">
          <div class="card-header">
            SQL command line
          </div>
          <div class="card-body" id="sql_container">
            <form method="POST">
              <div class="input-group input-group-lg">
                {% if valid==True %}
                <textarea type="text" name="textarea" class="form-control is-valid" id="textarea"
                  rows="4">{{SQL_COMMAND}}</textarea>
                {%else%}
                <textarea type="text" name="textarea" class="form-control is-invalid" id="textarea"
                  rows="4">{{SQL_COMMAND}}</textarea>
                {% endif %}
              </div>
              <div class="col text-center" id="exc_btn">
                <button class="btn btn-dark" type="submit">Execute command</button>
              </div>
            </form>
          </div>



        </div>
      </div>



    </div>
  </div>

  </div>

  <div class="container" id="Save">

    <p class=" alignleft" id="sql_title">Output</p>
    <p class="alignright">
      <a href="/getCSV" input class="btn btn-success btn-sm mr-2 mb-2" id="getcsv">Save as CSV</a>
    </p>
  </div>
  </div>
  <div style="clear: both;"></div>

  <div class="container">


    <div class="table-wrapper-scroll-y my-custom-scrollbar">

      <table class="table table-bordered table-striped table-sm table-hover">
        <thead class="thead-dark">
          {% for col in colNames %}
          <th scope="col">{{ col }}</th>
          {% endfor %}
        </thead>
        {% for item in sql_output %}
        <tr>
          {% for w in widthDF %}
          <td>{{ item[w] }}</td>
          {% endfor %}
        </tr>
        {% endfor %}

      </table>

    </div>


  </div>

  <script type="text/javascript" src="../static/JS/welcome.js"></script>

</body>

</html>